<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#3B82F6">
    <meta name="description" content="Paris Family Trip Planner - March 29 - April 4, 2026">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Paris Trip">
    <title>Paris Family Trip 2026</title>
    <link rel="manifest" href="#" id="manifest-placeholder">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #EFF6FF 0%, #FCE7F3 50%, #F3E8FF 100%);
            min-height: 100vh;
            padding: 24px;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .header h1 {
            font-size: 2.25rem;
            font-weight: bold;
            color: #1F2937;
            margin-bottom: 8px;
        }
        
        .header p {
            color: #6B7280;
            margin-bottom: 8px;
        }
        
        .tabs {
            display: flex;
            gap: 16px;
            margin-bottom: 32px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .tab-button {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
            font-size: 1rem;
        }
        
        .tab-button.active {
            background: #3B82F6;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .tab-button.inactive {
            background: white;
            color: #374151;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .card h2 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1F2937;
            margin-bottom: 16px;
        }
        
        .day-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding-bottom: 8px;
        }
        
        .day-button {
            padding: 8px 16px;
            border-radius: 8px;
            white-space: nowrap;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }
        
        .day-button.active {
            background: #3B82F6;
            color: white;
        }
        
        .day-button.inactive {
            background: white;
            color: #374151;
        }
        
        .hero-banner {
            height: 256px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            margin-bottom: 24px;
        }
        
        .hero-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            padding: 24px;
            color: white;
        }
        
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .activity-item {
            display: flex;
            gap: 16px;
            padding: 12px;
            border-radius: 8px;
        }
        
        .location-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .location-item {
            display: flex;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
            background: #F9FAFB;
            text-decoration: none;
            color: inherit;
        }
        
        .location-item:hover {
            background: #F3F4F6;
        }
        
        .location-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .grid {
            display: grid;
            gap: 16px;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        .food-card {
            padding: 16px;
            border-radius: 8px;
            text-decoration: none;
            color: inherit;
            transition: all 0.2s;
        }
        
        .food-card:hover {
            transform: translateY(-4px);
        }
        
        .checklist-section {
            border: 2px solid;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .checklist-section.high {
            border-color: #FCA5A5;
            background: #FEF2F2;
        }
        
        .checklist-section.medium {
            border-color: #FCD34D;
            background: #FEFCE8;
        }
        
        .checklist-section.low {
            border-color: #86EFAC;
            background: #F0FDF4;
        }
        
        .install-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 12px;
        }
        
        .install-prompt button {
            background: white;
            color: #667eea;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <div id="install-prompt" class="install-prompt">
        <span>üì± Install this app!</span>
        <button id="install-button">Install</button>
        <button id="dismiss-button" style="background: transparent; color: white;">‚úï</button>
    </div>

    <script>
        const itineraryData = [
            {
                day: "Day 1 - March 29",
                title: "Arrival Evening",
                activities: [
                    { time: "5:30 PM", activity: "Arrive Paris", icon: "‚úàÔ∏è" },
                    { time: "Evening", activity: "Saint-Germain-des-Pr√©s stroll", icon: "üö∂" }
                ],
                locations: [
                    { name: "Hotel", lat: 48.8503, lng: 2.3292, address: "117 Rue de Rennes" },
                    { name: "Pierre Herm√©", lat: 48.8522, lng: 2.3301, address: "72 Rue Bonaparte" }
                ],
                imageBg: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
                color: "#E8B4B8"
            },
            {
                day: "Day 2 - March 30",
                title: "Museums",
                activities: [
                    { time: "Morning", activity: "Mus√©e d'Orsay", icon: "üé®" },
                    { time: "Afternoon", activity: "Notre-Dame", icon: "‚õ™" }
                ],
                locations: [
                    { name: "Mus√©e d'Orsay", lat: 48.8600, lng: 2.3266, address: "1 Rue de la L√©gion" },
                    { name: "Notre-Dame", lat: 48.8530, lng: 2.3499, address: "Parvis Notre-Dame" }
                ],
                imageBg: "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",
                color: "#A8D5BA"
            }
        ];

        let currentDay = 0;
        let currentTab = 'itinerary';

        function createLocationUrl(lat, lng) {
            return `https://www.google.com/maps/search/?api=1&query=${lat},${lng}`;
        }

        function renderApp() {
            const day = itineraryData[currentDay];
            const root = document.getElementById('root');
            
            let html = `
                <div class="container">
                    <div class="header">
                        <h1>Paris Family Adventure</h1>
                        <p>March 29 - April 4, 2026 ‚Ä¢ 3 Travelers</p>
                    </div>

                    <div class="tabs">
                        <button class="tab-button ${currentTab === 'itinerary' ? 'active' : 'inactive'}" onclick="switchTab('itinerary')">
                            üìÖ Itinerary
                        </button>
                        <button class="tab-button ${currentTab === 'local' ? 'active' : 'inactive'}" onclick="switchTab('local')">
                            ü•ê Local Goods
                        </button>
                        <button class="tab-button ${currentTab === 'preparation' ? 'active' : 'inactive'}" onclick="switchTab('preparation')">
                            ‚úì Preparation
                        </button>
                    </div>
            `;

            if (currentTab === 'itinerary') {
                html += `
                    <div class="day-selector">
                        ${itineraryData.map((d, idx) => `
                            <button class="day-button ${currentDay === idx ? 'active' : 'inactive'}" 
                                    onclick="selectDay(${idx})">
                                ${d.day.split(' - ')[0]}
                            </button>
                        `).join('')}
                    </div>

                    <div class="card">
                        <div class="hero-banner" style="background: ${day.imageBg}">
                            <div class="hero-text">
                                <h2>${day.title}</h2>
                                <p>${day.day}</p>
                            </div>
                        </div>

                        <h2>Daily Activities</h2>
                        <div class="activity-list">
                            ${day.activities.map(activity => `
                                <div class="activity-item" style="border-left: 4px solid ${day.color}">
                                    <span style="font-size: 2rem">${activity.icon}</span>
                                    <div>
                                        <div style="font-size: 0.875rem; font-weight: 600; color: #6B7280">${activity.time}</div>
                                        <div style="color: #1F2937; font-weight: 500">${activity.activity}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <h2>Key Stops</h2>
                        <div class="location-list">
                            ${day.locations.map((loc, idx) => `
                                <a href="${createLocationUrl(loc.lat, loc.lng)}" 
                                   target="_blank" 
                                   class="location-item">
                                    <div class="location-number" style="background: ${day.color}">
                                        ${idx + 1}
                                    </div>
                                    <div>
                                        <div style="font-weight: 500; color: #1F2937">${loc.name} üìç</div>
                                        <div style="font-size: 0.75rem; color: #6B7280">${loc.address}</div>
                                    </div>
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (currentTab === 'local') {
                html += `
                    <div class="card">
                        <h2>ü•ê Must-Try Near Your Hotel</h2>
                        <p style="color: #6B7280; margin-bottom: 24px;">Best food spots in Saint-Germain-des-Pr√©s!</p>
                        
                        <div class="grid">
                            ${[
                                { name: "Pierre Herm√©", emoji: "ü•ê", desc: "World-famous macarons", lat: 48.8522, lng: 2.3301, bg: "#FED7AA" },
                                { name: "Poil√¢ne", emoji: "üçû", desc: "Legendary sourdough", lat: 48.8511, lng: 2.3274, bg: "#FBCFE8" },
                                { name: "Berthillon", emoji: "üç¶", desc: "Best ice cream", lat: 48.8527, lng: 2.3560, bg: "#C7D2FE" }
                            ].map(food => `
                                <a href="${createLocationUrl(food.lat, food.lng)}" 
                                   target="_blank"
                                   class="food-card"
                                   style="background: ${food.bg}">
                                    <div style="font-size: 2rem; margin-bottom: 8px">${food.emoji}</div>
                                    <div style="font-weight: 600; margin-bottom: 4px">${food.name} üìç</div>
                                    <div style="font-size: 0.875rem; color: #6B7280">${food.desc}</div>
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else {
                html += `
                    <div class="card">
                        <h2>‚úì Preparation Checklist</h2>
                        
                        <div class="checklist-section high">
                            <div style="font-weight: bold; color: #991B1B; margin-bottom: 12px">üî¥ HIGH PRIORITY - Book by March 15</div>
                            <ul style="list-style: none; padding: 0">
                                <li style="padding: 8px 0">‚úì Eiffel Tower Summit Tickets</li>
                                <li style="padding: 8px 0">‚úì Louvre Museum Timed Entry</li>
                                <li style="padding: 8px 0">‚úì Mus√©e d'Orsay Tickets</li>
                            </ul>
                        </div>
                        
                        <div class="checklist-section medium">
                            <div style="font-weight: bold; color: #92400E; margin-bottom: 12px">üü° MEDIUM PRIORITY</div>
                            <ul style="list-style: none; padding: 0">
                                <li style="padding: 8px 0">‚úì Seine River Cruise</li>
                                <li style="padding: 8px 0">‚úì Dinner Reservations</li>
                                <li style="padding: 8px 0">‚úì Airport Transfers</li>
                            </ul>
                        </div>
                        
                        <div class="checklist-section low">
                            <div style="font-weight: bold; color: #14532D; margin-bottom: 12px">üü¢ BEFORE YOU LEAVE</div>
                            <ul style="list-style: none; padding: 0">
                                <li style="padding: 8px 0">‚úì Download Apps (RATP, Google Maps)</li>
                                <li style="padding: 8px 0">‚úì Notify Credit Cards</li>
                                <li style="padding: 8px 0">‚úì Pack Adapters (Type E)</li>
                            </ul>
                        </div>
                    </div>
                `;
            }

            html += '</div>';
            root.innerHTML = html;
        }

        function selectDay(idx) {
            currentDay = idx;
            renderApp();
        }

        function switchTab(tab) {
            currentTab = tab;
            renderApp();
        }

        // Initial render
        renderApp();

        // PWA Manifest
        const manifestData = {
            "name": "Paris Trip 2026",
            "short_name": "Paris",
            "start_url": ".",
            "display": "standalone",
            "background_color": "#ffffff",
            "theme_color": "#3B82F6",
            "icons": [{
                "src": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%233B82F6' width='100' height='100'/%3E%3Ctext y='75' x='50' text-anchor='middle' font-size='70'%3Eüóº%3C/text%3E%3C/svg%3E",
                "sizes": "512x512",
                "type": "image/svg+xml"
            }]
        };

        const manifestBlob = new Blob([JSON.stringify(manifestData)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        document.getElementById('manifest-placeholder').setAttribute('href', manifestURL);

        // Install prompt
        let deferredPrompt;
        const installPrompt = document.getElementById('install-prompt');
        const installButton = document.getElementById('install-button');
        const dismissButton = document.getElementById('dismiss-button');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installPrompt.style.display = 'flex';
        });

        installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt = null;
                installPrompt.style.display = 'none';
            }
        });

        dismissButton.addEventListener('click', () => {
            installPrompt.style.display = 'none';
        });
    </script>
</body>
</html>
